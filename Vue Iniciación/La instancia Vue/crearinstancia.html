<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crear una instancia</title>
</head>
<body>
    
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

    <script>
        //Cuando una instancia Vue es creada, añade todas las propiedades que se encuentran 
        //en su objeto data debido a su sistema de reactividad. Cuando el valor de esas propiedades
        //cambia, la vista "reaccionara", actualizandose para igualarse a los nuevos valores.
        
        //Nuestro objeto data
        var data = { a: 1}

        //El objeto se añade a una instancia Vue
        var vm = new Vue[{
            data: data
        }]

        //Hacer un get de la propiedad de la instancia devuelve el valor de la prpiedad original
        vm.a == data.a //=> true

        //Hacer un set de la propiedad en la instancia, afecta a la propiedad original
        vm.a = 2
        data.a //=> 2

        //... y viceversa
        data.a= 3
        vm.a //=> 3

        //Hay que tener en cuenta que las propiedades en data solo son reactivas si existen
        //cuando la instancia es creada. Es decir, si añadimos una propiedad nueva asi:
        vm.b = 'hola'

        //los cambios en b no desencadenaran ninguna actualización de vista.
        //Si sabes que vas a necesitar una propiedad más tarde, pero empieza vacía o 
        //inexistente, tendrás que declararle algún valor inicial, por ejemplo:
        data: {
            newTodoText: '',
            visitCount: 0.
            hideCompletedTodos: false,
            todos[],
            error: null
        }

        //La unica excepcion es el Object.freeze(), que previene las propiedades existentes
        //de ser cambiadas.


        //Además de las propiedades data, las instancias Vue incluyen varias propiedades y 
        //métodos muy útiles, que van precedidos por $ para diferenciarlas de las propiedades
        //definidas por el usuario.
        var data = { a: 1}
        var vm = new Vue({
            el: '#example',
            data: data
        })

        vm.$data === data //=> true
        vm.$el === document.getElementById('example')//=> true

        vm.$watch('a', function (newValue, oldValue){
            //Se llamará al método cuando vm.a cambie
        }
        </script>
</body>
</html>